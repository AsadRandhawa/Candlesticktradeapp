"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[251],{5251:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var r=s(2397),t=s(5043),l=s(5761),o=s(1906),n=s(35),i=s(6600),d=s(5316),c=s(3907),m=s(5866),h=s(9347),p=s(6178),u=s.n(p),x=s(5737),j=s(579);const w=()=>{const[e,a]=(0,t.useState)([]),[s,p]=(0,t.useState)([]),[w,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)(0),[v,f]=(0,t.useState)(),[A,P]=(0,t.useState)({lastpassword:"",newpassword:""}),N={color:"white"};(0,t.useEffect)((()=>{const e={userId:localStorage.getItem("UserId")};r.A.post("/api/users/getuser",e).then((e=>{a(e.data),p(e.data);let s=0;u()(new Date).format("MM")-u()(e.data.registerTime).format("MM")>0&&(s+=30*(u()(new Date).format("MM")-u()(e.data.registerTime).format("MM")),u()(new Date).format("DD")-u()(e.data.registerTime).format("DD")>0&&(s+=u()(new Date).format("DD")-u()(e.data.registerTime).format("DD"))),s>=e.data.period&&(x.Ay.config({top:60,duration:2}),x.Ay.warning("Please apply for an extension of time")),y(s)}))}),[]);const C=()=>{g(!1)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h4",{children:"My Profile"}),(0,j.jsx)("br",{}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-lg-4 mb-5",children:[(0,j.jsx)("label",{for:"firstname",children:"FirstName: "})," ",(0,j.jsx)("br",{}),(0,j.jsx)(l.A,{placeholder:"FirstName",id:"FirstName",value:e.firstName,style:{color:"white",width:"100%"}})]}),(0,j.jsxs)("div",{className:"col-lg-4 mb-5",children:[(0,j.jsx)("label",{for:"lastName",children:"LastName: "})," ",(0,j.jsx)("br",{}),(0,j.jsx)(l.A,{placeholder:"lastName",id:"lastName",value:e.lastname,style:{color:"white",width:"100%"}})]})]}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-lg-4 mb-5",children:[(0,j.jsx)("label",{for:"email",children:"Email "})," ",(0,j.jsx)("br",{}),(0,j.jsx)(l.A,{placeholder:"Email",id:"email",value:e.email,style:{color:"white",width:"100%"}})]}),(0,j.jsxs)("div",{className:"col-lg-4 mb-5",children:[(0,j.jsx)("label",{for:"Password",children:"Password: "})," ",(0,j.jsx)("br",{}),(0,j.jsx)(l.A,{placeholder:"Password",id:"Password",value:localStorage.getItem("Password"),style:{color:"white",width:"100%"}})]}),(0,j.jsxs)("div",{className:"col-lg-4 mb-5",children:[(0,j.jsx)("label",{for:"Username",children:"Username: "})," ",(0,j.jsx)("br",{}),(0,j.jsx)(l.A,{placeholder:"Username",id:"username",value:e.username,style:{color:"white",width:"100%"}})]})]}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-lg-4 mb-5",children:[(0,j.jsx)("label",{for:"Phone",children:"Phone: "})," ",(0,j.jsx)("br",{}),(0,j.jsx)(l.A,{placeholder:"Phone",id:"Phone",value:e.Phone,style:{color:"white",width:"100%"}})]}),(0,j.jsxs)("div",{className:"col-lg-4 mb-5",children:[(0,j.jsx)("label",{for:"country",children:"Country "})," ",(0,j.jsx)("br",{}),(0,j.jsx)(l.A,{placeholder:"country",id:"country",value:e.country,style:{color:"white",width:"100%"}})]}),(0,j.jsx)("div",{className:"col-lg-4 mb-5",children:(0,j.jsx)(o.A,{style:{float:"right",alignItems:"center"},onClick:()=>{p(e),g(!0)},children:"Edit"})})]}),(0,j.jsxs)(n.A,{open:w,onClose:C,PaperProps:{style:{borderRadius:"10px"}},children:[(0,j.jsx)(i.A,{textAlign:"center",style:{background:"#27283a",color:"white"},children:"Change My Profile"}),(0,j.jsx)(d.A,{style:{background:"#27283a"},children:(0,j.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,j.jsxs)(c.A,{sx:{width:"100%",minWidth:{xs:"300px",sm:"360px",md:"400px"},gap:"1.5rem",marginTop:"3px"},children:[(0,j.jsx)(m.A,{placeholder:"First Name",inputProps:{style:N},name:"firstName",value:s.firstName,onChange:e=>p({...s,[e.target.name]:e.target.value})}),(0,j.jsx)(m.A,{placeholder:"Last Name",inputProps:{style:N},name:"lastname",value:s.lastname,onChange:e=>p({...s,[e.target.name]:e.target.value})})," ",(0,j.jsx)(m.A,{placeholder:"Email",inputProps:{style:N},name:"email",value:s.email,onChange:e=>p({...s,[e.target.name]:e.target.value})})," ",(0,j.jsx)(m.A,{placeholder:"Phone",name:"Phone",inputProps:{style:N},value:s.Phone,onChange:e=>p({...s,[e.target.name]:e.target.value})}),(0,j.jsx)(m.A,{placeholder:"Country",inputProps:{style:N},name:"country",value:s.country,onChange:e=>p({...s,[e.target.name]:e.target.value})}),(0,j.jsx)(m.A,{placeholder:"Last Password",inputProps:{style:N},name:"lastpassword",value:A.lastpassword,onChange:e=>P({...A,[e.target.name]:e.target.value}),type:"password"}),(0,j.jsx)(m.A,{placeholder:"New Password",inputProps:{style:N},name:"newpassword",value:A.newpassword,onChange:e=>P({...A,[e.target.name]:e.target.value}),type:"password"}),b>=s.period?(0,j.jsx)(l.A,{max:300,min:30,placeholder:"extend your period",inputProps:{style:N},value:v,onChange:e=>f(e.target.value),type:"number"}):null]})})}),(0,j.jsxs)(h.A,{sx:{p:"1.25rem"},style:{background:"#27283a"},children:[" ",(0,j.jsx)(o.A,{onClick:C,style:{color:"#27283a",backgroundColor:"#8b8fa3"},children:"Cancel"}),(0,j.jsx)(o.A,{onClick:()=>{f();const e={_id:s._id,firstName:s.firstName,lastname:s.lastname,email:s.email,Phone:s.Phone,country:s.country,lastpassword:A.lastpassword,newpassword:A.newpassword,request:v};e.newpassword&&localStorage.setItem("Password",A.newpassword),r.A.post("/api/users/updateusers",e).then((e=>{e.data&&(a(e.data),x.Ay.success("Success"),g(!1))}))},variant:"contained",style:{backgroundColor:"#8b8fa3"},children:"Update"})]})]})]})}},2397:(e,a,s)=>{s.d(a,{A:()=>r});const r=s(6213).A.create({baseURL:"https://converg-production-28fb.up.railway.app"})}}]);
//# sourceMappingURL=251.f09fe67c.chunk.js.map