"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[497],{8197:(e,a,r)=>{r.r(a),r.d(a,{CreateNewAccountModal:()=>N,EditingModal:()=>z,default:()=>R});var s=r(5043),t=r(6213),l=r(4186),o=r(6240),n=r(7344),i=r(5969),c=r(6446),d=r(7361),u=r(7392),m=r(1906),p=r(5761),h=r(35),y=r(6600),g=r(5316),x=r(3907),b=r(5866),C=r(9347),A=r(3560),v=r(1387),j=r(9484),w=r(9456),P=(r(7650),r(8970)),f=r(7195),k=r.n(f),T=r(7843),F=r.n(T),K=r(688),S=r(5737),E=r(579);const N=e=>{let{open:a,columns:r,placeholderStyle:t,onClose:l,onSubmit:o}=e;const n={container:e=>({...e,backgroundColor:"#232333"}),control:e=>({...e,backgroundColor:"#232333",borderColor:"#232333"}),option:(e,a)=>({...e,backgroundColor:a.isFocused?"#555":"#232333",color:a.isFocused?"#fff":"#ccc"}),singleValue:e=>({...e,color:"#fff"})},[i,c]=(0,s.useState)(""),d=(0,s.useMemo)((()=>F()().getData()),[]),[u,p]=S.Ay.useMessage(),[A,v]=(0,s.useState)((()=>r.reduce(((e,a)=>{var r;return e[null!==(r=a.accessorKey)&&void 0!==r?r:""]="",e}),{})));return(0,E.jsxs)(h.A,{open:a,onClose:l,PaperProps:{style:{borderRadius:"10px"}},children:[(0,E.jsx)(P.bL,{}),(0,E.jsx)(y.A,{textAlign:"center",style:{background:"#27283a",color:"white"},children:"Create New Account"}),(0,E.jsx)(g.A,{style:{background:"#27283a"},children:(0,E.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,E.jsx)(x.A,{sx:{width:"100%",minWidth:{xs:"300px",sm:"360px",md:"400px"},gap:"1.5rem"},children:r.map((e=>"_id"===e.accessorKey||"request"===e.accessorKey||"period"===e.accessorKey?null:"Phone"===e.accessorKey?(0,E.jsx)(k(),{specialLabel:"",country:"us",name:e.accessorKey,onChange:a=>v({...A,[e.accessorKey]:a})}):"country"===e.accessorKey?(0,E.jsx)(K.Ay,{styles:n,name:e.accessorKey,options:d,value:i,onChange:a=>{c(a),v({...A,[e.accessorKey]:a.label})}}):"registerTime"===e.accessorKey?null:(0,E.jsx)(b.A,{placeholder:e.header,name:e.accessorKey,inputProps:{style:t},onChange:e=>v({...A,[e.target.name]:e.target.value})},e.accessorKey)))})})}),(0,E.jsxs)(C.A,{sx:{p:"1.25rem"},style:{background:"#27283a"},children:[(0,E.jsx)(m.A,{onClick:l,style:{color:"#27283a",backgroundColor:"#8b8fa3"},variant:"contained",children:"Cancel"}),(0,E.jsx)(m.A,{style:{backgroundColor:"#8b8fa3"},onClick:()=>{A.username&&""!==A.username&&void 0!==A.username?A.firstName&&""!==A.firstName&&void 0!==A.firstName?A.lastname&&""!==A.lastname&&void 0!==A.lastname?A.password&&""!==A.password&&void 0!==A.password?A.email&&""!==A.email&&void 0!==A.email?A.Phone&&""!==A.Phone&&void 0!==A.Phone?A.country&&""!==A.country&&void 0!==A.country||P.hm.warning("Invaild Country!","Failure"):P.hm.warning("Invaild PhoneNumber!","Failure"):P.hm.warning("Invaild Email!","Failure"):P.hm.warning("Invaild Password!","Failure"):P.hm.warning("Invaild Last Name!","Failure"):P.hm.warning("Invaild First Name!","Failure"):P.hm.warning("Invaild Username!","Failure")},variant:"contained",children:"Create New Account"})]})]})},z=e=>{let{open:a,columns:r,placeholderStyle:s,rowdata:t,setRowdata:l,onClose:o,onSubmit:n}=e;return(0,E.jsxs)(h.A,{open:a,onClose:o,PaperProps:{style:{borderRadius:"10px"}},children:[(0,E.jsx)(y.A,{textAlign:"center",style:{background:"#27283a",color:"white"},children:"Edit"}),(0,E.jsx)(g.A,{style:{background:"#27283a"},children:(0,E.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,E.jsxs)(x.A,{sx:{width:"100%",minWidth:{xs:"300px",sm:"360px",md:"400px"},gap:"1.5rem"},children:[(0,E.jsx)(b.A,{name:"firstName",value:t.firstName,placeholder:"First Name",inputProps:{style:s},onChange:e=>l({...t,[e.target.name]:e.target.value})}),(0,E.jsx)(b.A,{name:"lastname",value:t.lastname,placeholder:"Last Name",inputProps:{style:s},onChange:e=>l({...t,[e.target.name]:e.target.value})}),(0,E.jsx)(b.A,{name:"email",value:t.email,placeholder:"Email",inputProps:{style:s},onChange:e=>l({...t,[e.target.name]:e.target.value})}),(0,E.jsx)(b.A,{name:"Phone",value:t.Phone,placeholder:"Phone",inputProps:{style:s},onChange:e=>l({...t,[e.target.name]:e.target.value})}),(0,E.jsx)(b.A,{name:"country",value:t.country,placeholder:"Country",inputProps:{style:s},onChange:e=>l({...t,[e.target.name]:e.target.value})}),(0,E.jsx)(b.A,{name:"period",value:t.period,placeholder:"Period",style:{color:"white !important",webkitTextFillColor:"white !important"},inputProps:{style:s},onChange:e=>l({...t,[e.target.name]:e.target.value})}),(0,E.jsx)(b.A,{name:"request",disabled:!0,placeholder:"Request",value:t.request,inputProps:{style:s},onChange:e=>l({...t,[e.target.name]:e.target.value})})]})})}),(0,E.jsxs)(C.A,{sx:{p:"1.25rem"},style:{background:"#27283a"},children:[(0,E.jsx)(m.A,{onClick:o,style:{color:"#27283a",backgroundColor:"#8b8fa3"},variant:"contained",children:"Cancel"}),(0,E.jsx)(m.A,{style:{backgroundColor:"#8b8fa3"},onClick:()=>{n(t),P.hm.success("Exactly updated","Success"),o()},variant:"contained",children:"Update"})]})]})},B=e=>!!e.length,q=e=>!!e.length&&e.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),I=e=>e>=18&&e<=50,R=()=>{const{Rperiod:e}=(0,w.d4)((e=>e.InputValue)),a={borderBottom:"2px solid #c8cce3",color:"#c8cce3","::placeholder":{color:"#c8cce3"}},r={color:"white"},[h,y]=(0,s.useState)(!1),[g,x]=(0,s.useState)(!1),[b,C]=(0,s.useState)([]),[f,k]=(0,s.useState)({}),[T,F]=(0,s.useState)(""),[K,S]=(0,s.useState)([]);(0,s.useEffect)((()=>{R()}),[]);const R=()=>{t.A.post("/api/users/getallusers").then((e=>{C(e.data);for(var a=0;a<e.data.length;a++)e.data[a].request&&P.hm.info(`User ${e.data[a].username} has requested to use it for ${e.data[a].request} days`,"News")}))},U=(0,s.useCallback)((e=>{window.confirm(`Are you sure you want to delete ${e.getValue("username")}`)&&t.A.post("/api/users/deleteuser",e.original).then((e=>{C(e.data)}))}),[b]),L=(0,s.useCallback)((e=>({error:!!f[e.id],helperText:f[e.id],onBlur:a=>{("email"===e.column.id?q(a.target.value):"age"===e.column.id?I(+a.target.value):B(a.target.value))?(delete f[e.id],k({...f})):k({...f,[e.id]:`${e.column.columnDef.header} is required`})}})),[f]),D=(0,o.A)(),M=(0,n.A)({palette:{mode:"dark",primary:D.palette.secondary,background:{default:"#27283a"}}}),$=(0,s.useMemo)((()=>[{accessorKey:"_id",header:"ID",enableColumnOrdering:!1,enableEditing:!1,enableSorting:!1,size:80},{accessorKey:"username",header:"UserName",size:140,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a)}}},{accessorKey:"firstName",header:"First Name",size:140,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a)}}},{accessorKey:"lastname",header:"Last Name",size:140,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a)}}},{accessorKey:"password",header:"Password",size:140,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a)}}},{accessorKey:"email",header:"Email",muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a),type:"email"}}},{accessorKey:"Phone",header:"Phone",size:80,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a),type:"number"}}},{accessorKey:"country",header:"Country",size:140,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a)}}},{accessorKey:"period",header:"Period",size:80,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a),type:"number"}}},{accessorKey:"registerTime",header:"Register_Time",size:80,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a),type:"number"}}},{accessorKey:"request",header:"Request",size:80,muiTableBodyCellEditTextFieldProps:e=>{let{cell:a}=e;return{...L(a),type:"number"}}}]),[L]),_=e=>a=>{if("Search"===e||"Enter"===a.key){var r={searchword:T};T?t.A.post("/api/users/searchuser",r).then((e=>{C(e.data)})):t.A.post("/api/users/getallusers").then((e=>{C(e.data)}))}},O=e=>()=>{S(e._valuesCache),x(!0)};return(0,E.jsxs)("div",{className:"custom-table",children:[(0,E.jsx)(P.bL,{}),(0,E.jsx)(i.A,{theme:M,children:(0,E.jsx)(l.zp,{displayColumnDefOptions:{"mrt-row-actions":{muiTableHeadCellProps:{align:"center"},size:120}},enableFilters:!1,columns:$,data:b,editingMode:"modal",enableColumnOrdering:!1,enableEditing:!0,renderRowActions:e=>{let{row:a,table:r}=e;return(0,E.jsxs)(c.A,{sx:{display:"flex",gap:"1rem"},children:[(0,E.jsx)(d.A,{arrow:!0,placement:"left",title:"Edit",children:(0,E.jsx)(u.A,{onClick:O(a),style:{color:"#c8cce3"},children:(0,E.jsx)(A.A,{})})}),(0,E.jsx)(d.A,{arrow:!0,children:(0,E.jsx)(u.A,{color:"error",onClick:()=>U(a),style:{color:"#c8cce3"},children:(0,E.jsx)(v.A,{})})})]})},renderTopToolbarCustomActions:()=>(0,E.jsxs)("div",{style:{display:"flex"},children:[(0,E.jsx)(m.A,{style:{backgroundColor:"#8b8fa3",marginRight:"65px"},onClick:()=>y(!0),variant:"contained",children:"Create"}),(0,E.jsx)(p.A,{value:T,onChange:e=>F(e.target.value),onKeyPressCapture:_(""),placeholder:"Search here....",inputProps:{style:a},InputProps:{disableUnderline:!0}}),(0,E.jsx)(u.A,{onClick:_("Search"),style:{position:"absolute",left:"325px",top:"8px",color:"#8b8fa3"},children:(0,E.jsx)(j.A,{})})]})})}),(0,E.jsx)(N,{columns:$,open:h,onClose:()=>y(!1),onSubmit:e=>{t.A.post("/api/users/AddUser",e).then((e=>{"User's email already exists!"===e.data||"Username already exists!"===e.data?P.hm.warning(e.data,"Failure"):P.hm.success(e.data,"success"),R()}))},placeholderStyle:r}),(0,E.jsx)(z,{columns:$,open:g,onClose:()=>x(!1),onSubmit:async e=>{t.A.post("/api/users/updateuser",e).then((e=>{C(e.data)}))},rowdata:K,setRowdata:S,placeholderStyle:r})]})}}}]);
//# sourceMappingURL=497.57104f36.chunk.js.map